# 画面の作成

環境構築が完了したら、Laravel を利用して実際に画面の作成を行っていきましょう。

## Laravel を使った画面開発

実際にLaravel を利用して画面制作を行っていきましょう。

Laravel で画面を作成する場合、まずはじめに `routes/web.php` を編集します。

`routes/web.php` を以下のように編集してみましょう。

```php
Route::get("/hello",function(){
    return "hello world";
});
```

`http://192.168.10.10/hello` にアクセスすると、画面に `hello world`　と表示されたでしょう。

次に以下の記述を追加してみましょう。

```php
Route::get("/hello2",function(){
    return "this is welcome page!";
});
```

今度は アドレス `/hello2` で `this is welcome page!` の表示を確認できます。

Laravel ではこのように `Route::get("画面のURL", 処理 )`  の形式でシステムの画面を追加していきます。

### HTML を表示する

実際のシステム制作では、`hello world` のような文字ではなく、HTMLを表示したいケースのほうがほとんどです。
HTML を画面に表示するには、まず `resouces/views/tasklist.blade.php` を作成し 以下のようなHTMLを記述します。

```html
<h1>hello world</h1>
```

このHTMLを画面に表示するには、以下のようなルートを記述します。

```
Route::get("/tasklist",function(){
    return view("tasklist");
});
```

return で文字列を返していた箇所を view 関数を使った処理に書き換えると 
`resources/views` フォルダからテンプレートを参照して画面に表示してくれるようになります。

`resouces/views/tasklist.blade.php` の中に任意のHTMLを記述して、
タスクリストの画面をLaravel 経由で生成出来る様に編集してみましょう。

### PHP によるページ記述

Laravel で記述したルート、画面は 通常のHTMLと異なり、PHPによるプログラミングを加えることが出来ます。

例えば、`resouces/views/tasklist.blade.php` の中で以下のように記述してみましょう。

```
<?= 10 * 10 ?>
```

`<?=  ?>` はHTML上に PHP のプログラムを出力する記法です。 画面上には計算された結果の `100` が表示されるでしょう。

画面上に日付を描画するには以下のようにします。

```
<?=date("Y-m-d")?>
```

このように PHP を使ったプログラムでは HTML の中に プログラムの記述を埋め込んで、
様々な処理結果等を出力する事ができるようになっています。

変数を使用する場合には、ルートの側で以下のようにしてデータを宣言します。

```php
<?php
Route::get("/tasklist",function(){
    return view("tasklist", [ 
        "message" => "hello world"
    ]);
});
```

ここで作成された `message` はテンプレートファイル `resources/views/tasklist.blade.php` の中で PHP 変数として利用する事が出来ます。

```html
<h1>{{$message}}</h1>
```

配列を使用する場合には、 `[ ]` を用いて以下のようにします。

```php
Route::get("/tasklist",function(){
    return view("tasklist", [ 
        "message" => "hello world",
        "tasks" => [
            "本を買いに行く",
            "部屋の掃除をする",
        ],
    ]);
});
```

配列を繰り返しページ内で使用する場合 `foreach` を用いて、テンプレート内で以下の様に記述出来ます。

```html
<ul>
@foreach($tasks as $task)
    <li>{{$task}}</li>    
@endforeach
</ul>
```

`.blade.php` は Laravel で利用可能なPHPのテンプレートファイルです。
内部では様々なPHPの記法の他、 `@` を利用した特別な記法を利用することが可能です。

PHP の基本文法については PHPの公式ドキュメントを確認してみてください。

http://php.net/manual/ja/langref.php

